(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[922],{4153:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/web-development/frontend/js/modularization",function(){return t(8817)}])},9911:function(e,n,t){"use strict";var a=t(1527);t(959);let s={logo:"Collabor8 WithNotes",primaryHue:180,useNextSeoProps:()=>({titleTemplate:"Collabor8 WithNotes"}),project:{link:"https://github.com/"},chat:{link:"https://discord.com"},toc:{title:"\uD83D\uDD17 Table Of Content"},docsRepositoryBase:"https://github.com/",footer:{text:(0,a.jsxs)("span",{children:["\uD83D\uDCE6 Collabor8 WithNotes July 24 ",new Date().getFullYear()," \xa9"," ",(0,a.jsx)("a",{href:"https://nextra.site",target:"_blank",children:"Nextra"}),"."]})},faviconGlyph:"\uD83D\uDC7B"};n.Z=s},8817:function(e,n,t){"use strict";t.r(n);var a=t(1527),s=t(8964),r=t(4139),l=t(9911);t(4062);var i=t(6736);t(3325);let d={MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,i.ah)(),e.components);return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(o,{...e})}):o(e)},pageOpts:{filePath:"pages/web-development/frontend/js/modularization.md",route:"/web-development/frontend/js/modularization",headings:[{depth:1,value:"JavaScript的模块化开发",id:"javascript的模块化开发"},{depth:2,value:"What is javascript module",id:"what-is-javascript-module"},{depth:2,value:"原始的模块化开发",id:"原始的模块化开发"},{depth:2,value:"Namespace",id:"namespace"},{depth:2,value:"IIFE & Closures",id:"iife--closures"},{depth:2,value:"CommonJS",id:"commonjs"},{depth:2,value:"AMD",id:"amd"},{depth:2,value:"CMD",id:"cmd"},{depth:2,value:"UMD",id:"umd"},{depth:2,value:"ESM",id:"esm"},{depth:3,value:"使用ESM的前提",id:"使用esm的前提"},{depth:3,value:"ESM的使用",id:"esm的使用"},{depth:3,value:"导出方式",id:"导出方式"},{depth:3,value:"导入方式",id:"导入方式"},{depth:2,value:"总结",id:"总结"}],timestamp:1690945233e3,pageMap:[{kind:"Meta",data:{"- cs":{title:"\uD83C\uDF83 Computer Science Basics",type:"separator"},"computer-science-basics":"Computer Science Basics","- pl":{title:"\uD83C\uDF40 Programming Languages",type:"separator"},"programming-languages":"Programming Languages","- dp":{title:"⚙️ DevOps",type:"separator"},devops:"DevOps","- web":{title:"\uD83D\uDEE0️ Web Development",type:"separator"},"web-development":"Web Development",demo:"Demo",index:"Index"}},{kind:"Folder",name:"computer-science-basics",route:"/computer-science-basics",children:[{kind:"Meta",data:{"computer-network":"Computer Network"}},{kind:"Folder",name:"computer-network",route:"/computer-science-basics/computer-network",children:[{kind:"MdxPage",name:"network",route:"/computer-science-basics/computer-network/network"},{kind:"Meta",data:{network:"Network"}}]}]},{kind:"MdxPage",name:"demo",route:"/demo"},{kind:"Folder",name:"devops",route:"/devops",children:[{kind:"MdxPage",name:"environment",route:"/devops/environment"},{kind:"MdxPage",name:"server",route:"/devops/server"},{kind:"Meta",data:{environment:"Environment",server:"Server"}}]},{kind:"MdxPage",name:"index",route:"/"},{kind:"Folder",name:"programming-languages",route:"/programming-languages",children:[{kind:"Meta",data:{overview:"Overview",python:"Python",javascript:"JavaScript"}},{kind:"Folder",name:"overview",route:"/programming-languages/overview",children:[{kind:"MdxPage",name:"classification",route:"/programming-languages/overview/classification"},{kind:"Meta",data:{classification:"Classification"}}]},{kind:"Folder",name:"python",route:"/programming-languages/python",children:[{kind:"Meta",data:{grammar:"index"}},{kind:"MdxPage",name:"grammar",route:"/programming-languages/python/grammar"}]}]},{kind:"Folder",name:"web-development",route:"/web-development",children:[{kind:"Meta",data:{frontend:"Front End",backend:"Back End",other:"Other"}},{kind:"Folder",name:"frontend",route:"/web-development/frontend",children:[{kind:"Meta",data:{html:"HTML",css:"CSS",js:"JavaScript","js-runtime":"JavaScript Runtime",other:"Other"}},{kind:"Folder",name:"js",route:"/web-development/frontend/js",children:[{kind:"Meta",data:{es:"ECMAScript",modularization:"Modularization",runtime:"Runtime"}},{kind:"Folder",name:"es",route:"/web-development/frontend/js/es",children:[{kind:"Meta",data:{es2015:"ES6"}},{kind:"Folder",name:"es2015",route:"/web-development/frontend/js/es/es2015",children:[{kind:"Meta",data:{let:"let const var",this:"this",iife:"IIFE",closures:"Closures",prototype:"Prototype","execution context":"Execution Context",memory:"Memory"}},{kind:"MdxPage",name:"closures",route:"/web-development/frontend/js/es/es2015/closures"},{kind:"MdxPage",name:"execution context",route:"/web-development/frontend/js/es/es2015/execution context"},{kind:"MdxPage",name:"iife",route:"/web-development/frontend/js/es/es2015/iife"},{kind:"MdxPage",name:"let",route:"/web-development/frontend/js/es/es2015/let"},{kind:"MdxPage",name:"memory",route:"/web-development/frontend/js/es/es2015/memory"},{kind:"MdxPage",name:"this",route:"/web-development/frontend/js/es/es2015/this"}]},{kind:"Folder",name:"es2016",route:"/web-development/frontend/js/es/es2016",children:[{kind:"MdxPage",name:"Untitled",route:"/web-development/frontend/js/es/es2016/Untitled"},{kind:"Meta",data:{Untitled:"Untitled"}}]}]},{kind:"MdxPage",name:"modularization",route:"/web-development/frontend/js/modularization"},{kind:"MdxPage",name:"runtime",route:"/web-development/frontend/js/runtime"}]},{kind:"Folder",name:"js-runtime",route:"/web-development/frontend/js-runtime",children:[{kind:"Folder",name:"browser",route:"/web-development/frontend/js-runtime/browser",children:[{kind:"MdxPage",name:"browser",route:"/web-development/frontend/js-runtime/browser/browser"},{kind:"MdxPage",name:"event-loop",route:"/web-development/frontend/js-runtime/browser/event-loop"},{kind:"Meta",data:{browser:"Browser","event-loop":"Event Loop"}}]}]},{kind:"Folder",name:"other",route:"/web-development/frontend/other",children:[{kind:"MdxPage",name:"cli",route:"/web-development/frontend/other/cli"},{kind:"Meta",data:{cli:"CLI"}}]}]},{kind:"Folder",name:"other",route:"/web-development/other",children:[{kind:"MdxPage",name:"cross",route:"/web-development/other/cross"},{kind:"MdxPage",name:"web",route:"/web-development/other/web"},{kind:"Meta",data:{cross:"Cross",web:"Web"}}]}]}],flexsearch:{codeblocks:!0},title:"JavaScript的模块化开发"},pageNextRoute:"/web-development/frontend/js/modularization",nextraLayout:r.ZP,themeConfig:l.Z};function o(e){let n=Object.assign({h1:"h1",h2:"h2",p:"p",ul:"ul",li:"li",blockquote:"blockquote",a:"a",h3:"h3",pre:"pre",code:"code",span:"span"},(0,i.ah)(),e.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{children:"JavaScript的模块化开发"}),"\n",(0,a.jsx)(n.h2,{id:"what-is-javascript-module",children:"What is javascript module"}),"\n",(0,a.jsx)(n.p,{children:"例如实现一个web的计算器，我们需要划分不同模块"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"主运行模块"}),"\n",(0,a.jsx)(n.li,{children:"加法模块"}),"\n",(0,a.jsx)(n.li,{children:"减法模块"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"原始的模块化开发",children:"原始的模块化开发"}),"\n",(0,a.jsx)(n.p,{children:"通过script标签引入不同模块"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"顺序的问题"}),"\n",(0,a.jsx)(n.li,{children:"变量作用域的"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"namespace",children:"Namespace"}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"命名空间"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"iife--closures",children:"IIFE & Closures"}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"immediately invoked function expression & Closures 立即执行函数和闭包"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"commonjs",children:"CommonJS"}),"\n",(0,a.jsx)(n.p,{children:"Nodejs这个runtime的横空出世，带来了Nodejs自己的模块化解决方案，CommonJS是一种模块化规范，用于在服务器端和本地环境中实现模块化编程。它主要用于Node.js环境。"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"require 模块导入"}),"\n",(0,a.jsx)(n.li,{children:"module.exports 模块导出"}),"\n"]}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"那么Browser Runtime才是主流的JavaScript Runtime，所以社区形成了一些可行的针对于Browser Runtime的模块化方案"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"amd",children:"AMD"}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Asynchronous Module Definition 异步模块定义"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"AMD也是一种模块化规范，用于在浏览器环境中实现异步加载模块。它主要由RequireJS等库来支持。"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"RequireJS"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"cmd",children:(0,a.jsx)(n.a,{href:"https://github.com/cmdjs/specification/blob/master/draft/module.md",children:"CMD"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Common Module Definition 通用模块定义"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"CMD也是一种模块化规范，类似于AMD，但它更强调按需加载模块。SeaJS是一个支持CMD的库。"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"SeaJS"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"umd",children:"UMD"}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Universal Module Definition 通用模块定义"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"UMD是一种通用的模块化规范，旨在兼容CommonJS和AMD，并且可以在浏览器和Node.js环境中使用。"}),"\n",(0,a.jsx)(n.h2,{id:"esm",children:"ESM"}),"\n",(0,a.jsx)(n.p,{children:"ECMAScript Modules"}),"\n",(0,a.jsx)(n.p,{children:"ESM是ECMAScript（JavaScript）的官方模块化规范，从ES6/ES2015开始引入。它支持静态导入和导出，并成为JavaScript开发中的主要模块化标准。"}),"\n",(0,a.jsx)(n.h3,{id:"使用esm的前提",children:"使用ESM的前提"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"script标签上添加一个属性 type 属性值为 module"}),"\n",(0,a.jsx)(n.li,{children:"打开HTML文件的时候，不可以使用file"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"esm的使用",children:"ESM的使用"}),"\n",(0,a.jsx)(n.p,{children:"一个文件就是一个模块"}),"\n",(0,a.jsx)(n.p,{children:"如何导入一个模块"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"import"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"如何导出模块中的变量、函数……"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"export"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"导出方式",children:"导出方式"}),"\n",(0,a.jsx)(n.p,{children:"named export"}),"\n",(0,a.jsx)(n.pre,{"data-language":"text","data-theme":"default",children:(0,a.jsxs)(n.code,{"data-language":"text","data-theme":"default",children:[(0,a.jsx)(n.span,{className:"line",children:(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"export var a = 1111"})}),"\n",(0,a.jsx)(n.span,{className:"line",children:(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,a.jsx)(n.span,{className:"line",children:(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"export function fn() {"})}),"\n",(0,a.jsx)(n.span,{className:"line",children:(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,a.jsx)(n.span,{className:"line",children:(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,a.jsx)(n.span,{className:"line",children:(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,a.jsx)(n.span,{className:"line",children:(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"export var obj = {"})}),"\n",(0,a.jsx)(n.span,{className:"line",children:(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,a.jsx)(n.span,{className:"line",children:(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,a.jsx)(n.span,{className:"line",children:(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"}})})]})}),"\n",(0,a.jsx)(n.p,{children:"default export\n在每一个js模块中只能用一次"}),"\n",(0,a.jsx)(n.pre,{"data-language":"text","data-theme":"default",children:(0,a.jsxs)(n.code,{"data-language":"text","data-theme":"default",children:[(0,a.jsx)(n.span,{className:"line",children:(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"let str = 'scoheart';"})}),"\n",(0,a.jsx)(n.span,{className:"line",children:(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,a.jsx)(n.span,{className:"line",children:(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"export default str;"})})]})}),"\n",(0,a.jsx)(n.h3,{id:"导入方式",children:"导入方式"}),"\n",(0,a.jsx)(n.p,{children:"导入所有的东西"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"named export"}),"\n",(0,a.jsx)(n.li,{children:"default export"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{"data-language":"text","data-theme":"default",children:(0,a.jsx)(n.code,{"data-language":"text","data-theme":"default",children:(0,a.jsx)(n.span,{className:"line",children:(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"import * as Module from '......js'"})})})}),"\n",(0,a.jsx)(n.p,{children:"导入default"}),"\n",(0,a.jsx)(n.pre,{"data-language":"text","data-theme":"default",children:(0,a.jsx)(n.code,{"data-language":"text","data-theme":"default",children:(0,a.jsx)(n.span,{className:"line",children:(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"import module from '.....js'"})})})}),"\n",(0,a.jsx)(n.p,{children:"导入named"}),"\n",(0,a.jsx)(n.pre,{"data-language":"text","data-theme":"default",children:(0,a.jsx)(n.code,{"data-language":"text","data-theme":"default",children:(0,a.jsx)(n.span,{className:"line",children:(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"import {name1, name2} from '.....js'"})})})}),"\n",(0,a.jsx)(n.h2,{id:"总结",children:"总结"}),"\n",(0,a.jsx)(n.p,{children:"用什么样的模块化导出\n在导入的时候就要安装一样的模块化规范导入"}),"\n",(0,a.jsx)(n.p,{children:"Commonjs"}),"\n",(0,a.jsx)(n.pre,{"data-language":"text","data-theme":"default",children:(0,a.jsxs)(n.code,{"data-language":"text","data-theme":"default",children:[(0,a.jsx)(n.span,{className:"line",children:(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"module.exports = {"})}),"\n",(0,a.jsx)(n.span,{className:"line",children:(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,a.jsx)(n.span,{className:"line",children:(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,a.jsx)(n.pre,{"data-language":"text","data-theme":"default",children:(0,a.jsx)(n.code,{"data-language":"text","data-theme":"default",children:(0,a.jsx)(n.span,{className:"line",children:(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:'const a = require("")'})})})}),"\n",(0,a.jsx)(n.p,{children:"ESM"}),"\n",(0,a.jsx)(n.pre,{"data-language":"text","data-theme":"default",children:(0,a.jsx)(n.code,{"data-language":"text","data-theme":"default",children:(0,a.jsx)(n.span,{className:"line",children:(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"export default Vue;"})})})}),"\n",(0,a.jsx)(n.pre,{"data-language":"text","data-theme":"default",children:(0,a.jsx)(n.code,{"data-language":"text","data-theme":"default",children:(0,a.jsx)(n.span,{className:"line",children:(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:'import Vue from "xx.js"'})})})}),"\n",(0,a.jsx)(n.p,{children:"amd\\cmd"}),"\n",(0,a.jsx)(n.pre,{"data-language":"text","data-theme":"default",children:(0,a.jsx)(n.code,{"data-language":"text","data-theme":"default",children:(0,a.jsx)(n.span,{className:"line",children:(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"define()"})})})}),"\n",(0,a.jsx)(n.p,{children:"umd"}),"\n",(0,a.jsx)(n.pre,{"data-language":"text","data-theme":"default",children:(0,a.jsx)(n.code,{"data-language":"text","data-theme":"default",children:(0,a.jsx)(n.span,{className:"line",children:(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"IIFE + Closures 导出"})})})}),"\n",(0,a.jsx)(n.pre,{"data-language":"text","data-theme":"default",children:(0,a.jsxs)(n.code,{"data-language":"text","data-theme":"default",children:[(0,a.jsx)(n.span,{className:"line",children:(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"globalThis"})}),"\n",(0,a.jsx)(n.span,{className:"line",children:(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,a.jsx)(n.span,{className:"line",children:(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"globalThis.Vue"})}),"\n",(0,a.jsx)(n.span,{className:"line",children:(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,a.jsx)(n.span,{className:"line",children:(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"console.log(Vue)"})})]})})]})}n.default=(0,s.j)(d)}},function(e){e.O(0,[774,935,888,179],function(){return e(e.s=4153)}),_N_E=e.O()}]);