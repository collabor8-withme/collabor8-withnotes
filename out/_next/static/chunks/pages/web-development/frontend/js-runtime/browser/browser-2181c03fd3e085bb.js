(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[24],{3509:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/web-development/frontend/js-runtime/browser/browser",function(){return r(1601)}])},9911:function(e,n,r){"use strict";var t=r(1527);r(959);let d={logo:"Collabor8 WithNotes",primaryHue:180,useNextSeoProps:()=>({titleTemplate:"Collabor8 WithNotes"}),project:{link:"https://github.com/"},chat:{link:"https://discord.com"},toc:{title:"\uD83D\uDD17 Table Of Content"},docsRepositoryBase:"https://github.com/",footer:{text:(0,t.jsxs)("span",{children:["\uD83D\uDCE6 Collabor8 WithNotes July 24 ",new Date().getFullYear()," \xa9"," ",(0,t.jsx)("a",{href:"https://nextra.site",target:"_blank",children:"Nextra"}),"."]})},faviconGlyph:"\uD83D\uDC7B"};n.Z=d},1601:function(e,n,r){"use strict";r.r(n);var t=r(1527),d=r(8964),i=r(4139),s=r(9911);r(4062);var l=r(6736);r(3325);let o={MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,l.ah)(),e.components);return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)},pageOpts:{filePath:"pages/web-development/frontend/js-runtime/browser/browser.md",route:"/web-development/frontend/js-runtime/browser/browser",headings:[{depth:1,value:"浏览器",id:"浏览器"},{depth:2,value:"进程",id:"进程"},{depth:2,value:"线程",id:"线程"},{depth:2,value:"浏览器架构演变",id:"浏览器架构演变"},{depth:2,value:"多进程模型",id:"多进程模型"},{depth:3,value:"浏览器内核 （渲染进程）",id:"浏览器内核-渲染进程"},{depth:2,value:"多线程模型（针对渲染进程）",id:"多线程模型针对渲染进程"},{depth:3,value:"GUI渲染引擎",id:"gui渲染引擎"},{depth:3,value:"JS引擎",id:"js引擎"}],timestamp:1690945233e3,pageMap:[{kind:"Meta",data:{"- cs":{title:"\uD83C\uDF83 Computer Science Basics",type:"separator"},"computer-science-basics":"Computer Science Basics","- pl":{title:"\uD83C\uDF40 Programming Languages",type:"separator"},"programming-languages":"Programming Languages","- dp":{title:"⚙️ DevOps",type:"separator"},devops:"DevOps","- web":{title:"\uD83D\uDEE0️ Web Development",type:"separator"},"web-development":"Web Development",demo:"Demo",index:"Index"}},{kind:"Folder",name:"computer-science-basics",route:"/computer-science-basics",children:[{kind:"Meta",data:{"computer-network":"Computer Network"}},{kind:"Folder",name:"computer-network",route:"/computer-science-basics/computer-network",children:[{kind:"MdxPage",name:"network",route:"/computer-science-basics/computer-network/network"},{kind:"Meta",data:{network:"Network"}}]}]},{kind:"MdxPage",name:"demo",route:"/demo"},{kind:"Folder",name:"devops",route:"/devops",children:[{kind:"MdxPage",name:"environment",route:"/devops/environment"},{kind:"MdxPage",name:"server",route:"/devops/server"},{kind:"Meta",data:{environment:"Environment",server:"Server"}}]},{kind:"MdxPage",name:"index",route:"/"},{kind:"Folder",name:"programming-languages",route:"/programming-languages",children:[{kind:"Meta",data:{overview:"Overview",python:"Python",javascript:"JavaScript"}},{kind:"Folder",name:"overview",route:"/programming-languages/overview",children:[{kind:"MdxPage",name:"classification",route:"/programming-languages/overview/classification"},{kind:"Meta",data:{classification:"Classification"}}]},{kind:"Folder",name:"python",route:"/programming-languages/python",children:[{kind:"Meta",data:{grammar:"index"}},{kind:"MdxPage",name:"grammar",route:"/programming-languages/python/grammar"}]}]},{kind:"Folder",name:"web-development",route:"/web-development",children:[{kind:"Meta",data:{frontend:"Front End",backend:"Back End",other:"Other"}},{kind:"Folder",name:"frontend",route:"/web-development/frontend",children:[{kind:"Meta",data:{html:"HTML",css:"CSS",js:"JavaScript","js-runtime":"JavaScript Runtime",other:"Other"}},{kind:"Folder",name:"js",route:"/web-development/frontend/js",children:[{kind:"Meta",data:{es:"ECMAScript",modularization:"Modularization",runtime:"Runtime"}},{kind:"Folder",name:"es",route:"/web-development/frontend/js/es",children:[{kind:"Meta",data:{es2015:"ES6"}},{kind:"Folder",name:"es2015",route:"/web-development/frontend/js/es/es2015",children:[{kind:"Meta",data:{let:"let const var",this:"this",iife:"IIFE",closures:"Closures",prototype:"Prototype","execution context":"Execution Context",memory:"Memory"}},{kind:"MdxPage",name:"closures",route:"/web-development/frontend/js/es/es2015/closures"},{kind:"MdxPage",name:"execution context",route:"/web-development/frontend/js/es/es2015/execution context"},{kind:"MdxPage",name:"iife",route:"/web-development/frontend/js/es/es2015/iife"},{kind:"MdxPage",name:"let",route:"/web-development/frontend/js/es/es2015/let"},{kind:"MdxPage",name:"memory",route:"/web-development/frontend/js/es/es2015/memory"},{kind:"MdxPage",name:"this",route:"/web-development/frontend/js/es/es2015/this"}]},{kind:"Folder",name:"es2016",route:"/web-development/frontend/js/es/es2016",children:[{kind:"MdxPage",name:"Untitled",route:"/web-development/frontend/js/es/es2016/Untitled"},{kind:"Meta",data:{Untitled:"Untitled"}}]}]},{kind:"MdxPage",name:"modularization",route:"/web-development/frontend/js/modularization"},{kind:"MdxPage",name:"runtime",route:"/web-development/frontend/js/runtime"}]},{kind:"Folder",name:"js-runtime",route:"/web-development/frontend/js-runtime",children:[{kind:"Folder",name:"browser",route:"/web-development/frontend/js-runtime/browser",children:[{kind:"MdxPage",name:"browser",route:"/web-development/frontend/js-runtime/browser/browser"},{kind:"MdxPage",name:"event-loop",route:"/web-development/frontend/js-runtime/browser/event-loop"},{kind:"Meta",data:{browser:"Browser","event-loop":"Event Loop"}}]}]},{kind:"Folder",name:"other",route:"/web-development/frontend/other",children:[{kind:"MdxPage",name:"cli",route:"/web-development/frontend/other/cli"},{kind:"Meta",data:{cli:"CLI"}}]}]},{kind:"Folder",name:"other",route:"/web-development/other",children:[{kind:"MdxPage",name:"cross",route:"/web-development/other/cross"},{kind:"MdxPage",name:"web",route:"/web-development/other/web"},{kind:"Meta",data:{cross:"Cross",web:"Web"}}]}]}],flexsearch:{codeblocks:!0},title:"浏览器"},pageNextRoute:"/web-development/frontend/js-runtime/browser/browser",nextraLayout:i.ZP,themeConfig:s.Z};function a(e){let n=Object.assign({h1:"h1",h2:"h2",p:"p",ul:"ul",li:"li",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",h3:"h3"},(0,l.ah)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{children:"浏览器"}),"\n",(0,t.jsx)(n.h2,{id:"进程",children:"进程"}),"\n",(0,t.jsx)(n.p,{children:"每开启一个软件，就会启动一个进程，这个进程会监听一个端口"}),"\n",(0,t.jsx)(n.h2,{id:"线程",children:"线程"}),"\n",(0,t.jsx)(n.p,{children:"一个进程开启，他可能会启动多个线程"}),"\n",(0,t.jsx)(n.h2,{id:"浏览器架构演变",children:"浏览器架构演变"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"单进程架构"}),"\n",(0,t.jsx)(n.li,{children:"多进程架构"}),"\n",(0,t.jsx)(n.li,{children:"面向服务架构"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"多进程模型",children:"多进程模型"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"主进程"}),"\n",(0,t.jsx)(n.li,{children:"渲染进程\n每开启一个tab页面就会开启一个渲染进程"}),"\n",(0,t.jsx)(n.li,{children:"GPU进程"}),"\n",(0,t.jsx)(n.li,{children:"网络进程"}),"\n",(0,t.jsx)(n.li,{children:"Plugins进程"}),"\n"]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"进程名"}),(0,t.jsx)(n.th,{children:"进程作用"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"主进程"}),(0,t.jsx)(n.td,{children:"主要负责页面展示逻辑、用户交互、子进程管理；包括地址栏、书签、前进、后退、收藏夹等"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"GPU进程"}),(0,t.jsx)(n.td,{children:"负责UI绘制、包含整个浏览器的全部UI"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"网络进程"}),(0,t.jsx)(n.td,{children:"网络服务进程、负责网络资源加载"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"渲染进程"}),(0,t.jsx)(n.td,{children:"控制Tab内的所有内容，将HTML、CSS和JavaScript转换为用户可交互的网页"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"插件进程"}),(0,t.jsx)(n.td,{children:"控制网站运行的插件、比如flash等"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"其他进程"}),(0,t.jsx)(n.td,{children:"Storage、Network、Audio Service等"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"浏览器内核-渲染进程",children:"浏览器内核 （渲染进程）"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Trident"}),"\n",(0,t.jsx)(n.li,{children:"Gecko"}),"\n",(0,t.jsx)(n.li,{children:"Webkit"}),"\n",(0,t.jsx)(n.li,{children:"Blink"}),"\n",(0,t.jsx)(n.li,{children:"Presto"}),"\n"]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"内核"}),(0,t.jsx)(n.th,{children:"浏览器"}),(0,t.jsx)(n.th,{children:"JS引擎"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Trident"}),(0,t.jsx)(n.td,{children:"IE4-11"}),(0,t.jsx)(n.td,{children:"JScript、Chakra"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Gecko"}),(0,t.jsx)(n.td,{children:"Firefox"}),(0,t.jsx)(n.td,{children:"SpiderMonkey"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Webkit"}),(0,t.jsx)(n.td,{children:"Safari、Chrome、Android浏览器"}),(0,t.jsx)(n.td,{children:"JavaScriptCore"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Blink"}),(0,t.jsx)(n.td,{children:"Chrome、Opera"}),(0,t.jsx)(n.td,{children:"V8"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Edge"}),(0,t.jsx)(n.td,{children:"Edge"}),(0,t.jsx)(n.td,{children:"Chakra"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Trident+Webkit(Blink)"}),(0,t.jsx)(n.td,{children:"国产浏览器，QQ、360、搜狗、UC等等"}),(0,t.jsx)(n.td,{children:"都有都有"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"多线程模型针对渲染进程",children:"多线程模型（针对渲染进程）"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"GUI渲染主线程"}),"\n",(0,t.jsx)(n.li,{children:"js引擎线程"}),"\n",(0,t.jsx)(n.li,{children:"事件触发线程"}),"\n",(0,t.jsx)(n.li,{children:"定时器触发线程"}),"\n",(0,t.jsx)(n.li,{children:"网络线程"}),"\n"]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"线程"}),(0,t.jsx)(n.th,{children:"功能"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"GUI渲染主线程"}),(0,t.jsx)(n.td,{children:"负责渲染浏览器界面，解析HTML、CSS，构建DOM树、Render树，布局，绘制，和js引擎互斥"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"JS引擎线程"}),(0,t.jsx)(n.td,{children:"负责解析JS脚本，运行JS程序，每个渲染进程下只有一个JS引擎线程。与GUI渲染主线程互斥，如果执行任务过长，会导致页面卡顿"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"定时器触发线程"}),(0,t.jsx)(n.td,{children:"setTimeout、setInterval计时完毕后，将回调添加到事件队列，等待JS引擎执行"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"网络线程"}),(0,t.jsx)(n.td,{children:"XHR、fetch发起请求后开启一个网络线程请求，如果设置了回调函数、在状态变更时候，将回调函数放入事件队列，等待JS引擎执行"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"事件触发线程"}),(0,t.jsx)(n.td,{children:"宿主环境提供，用于控制事件循环，不断地从事件队列取出任务执行"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"gui渲染引擎",children:"GUI渲染引擎"}),"\n",(0,t.jsx)(n.p,{children:"CRP Critical rendering path 关键渲染路径"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["解析HTML & CSS源码","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"解析HTML --> XML解析器"}),"\n",(0,t.jsx)(n.li,{children:"解析CSS --> CSS解析器"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["构建DOM树 & CSSOM树","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"HTML --> DOM树"}),"\n",(0,t.jsx)(n.li,{children:"CSS --> CSSOM树"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"构建Render树/Layout树"}),"\n",(0,t.jsx)(n.li,{children:"布局 Layout"}),"\n",(0,t.jsx)(n.li,{children:"分层 Layer"}),"\n",(0,t.jsx)(n.li,{children:"绘制 Paint"}),"\n",(0,t.jsx)(n.li,{children:"展示 Display"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"js引擎",children:"JS引擎"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"解析JS源码 --> JS解析器"}),"\n",(0,t.jsx)(n.li,{children:"转化成AST"}),"\n",(0,t.jsx)(n.li,{children:"翻译成字节码"}),"\n",(0,t.jsxs)(n.li,{children:["解析执行字节码","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"JIT 转化成机器码"}),"\n",(0,t.jsx)(n.li,{children:"直接执行机器码"}),"\n"]}),"\n"]}),"\n"]})]})}n.default=(0,d.j)(o)}},function(e){e.O(0,[774,935,888,179],function(){return e(e.s=3509)}),_N_E=e.O()}]);